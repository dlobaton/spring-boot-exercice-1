-- Creación de la tabla T_RATES
CREATE TABLE IF NOT EXISTS T_RATES (
    ID SERIAL PRIMARY KEY NOT NULL,
    BRAND_ID INT NOT NULL,
    PRODUCT_ID INT NOT NULL,
    START_DATE DATE NOT NULL,
    END_DATE DATE NOT NULL,
    PRICE INT NOT NULL,
    CURRENCY_CODE VARCHAR(3) NOT NULL
);

-- Creación de índices
CREATE INDEX IF NOT EXISTS rates_brand_id_index ON T_RATES (BRAND_ID);
CREATE INDEX IF NOT EXISTS rates_product_id_index ON T_RATES (PRODUCT_ID);
CREATE INDEX IF NOT EXISTS rates_currency_code_index ON T_RATES (CURRENCY_CODE);

-- Inserción de datos iniciales
INSERT INTO T_RATES (BRAND_ID, PRODUCT_ID, START_DATE, END_DATE, PRICE, CURRENCY_CODE)
VALUES
    (1, 1, '2022-01-01', '2022-05-31', 1550, 'EUR'),
    (1, 1, '2022-06-01', '2022-12-31', 1850, 'USD'),
    (2, 1, '2022-01-01', '2022-05-31', 2050, 'EUR'),
    (2, 1, '2022-06-01', '2022-12-31', 2250, 'USD'),
    (1, 2, '2022-01-01', '2022-05-31', 2550, 'EUR'),
    (1, 2, '2022-06-01', '2022-12-31', 2850, 'USD'),
    (2, 2, '2022-01-01', '2022-05-31', 3050, 'EUR'),
    (2, 2, '2022-06-01', '2022-12-31', 3250, 'USD');
